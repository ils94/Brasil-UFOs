# 🇧🇷 Brasil-UFOs – PDF Downloader for Brazilian National Archive (SIAN)

This project contains tools to help automate the download of PDF files from the Brazilian National Archive (SIAN). It's especially useful for downloading large batches of declassified documents, like those related to UFO sightings in Brazil.

## What It Does

1.  **Tampermonkey script**: Injects a button into SIAN pages that lets you extract all PDF download paths from clickable elements with one click, saving them to a `.txt` file.
    
2.  **Python script**: Reads the `.txt` files generated by the Tampermonkey script and downloads all the corresponding PDFs in parallel using multiple threads, with error handling and logging.

## Requirements

-   Python 3.10 +
-   `requests` (install via `pip install requests`)

## How to Use

### 1. Use the Tampermonkey Script in Your Browser

1.  **Install the [Tampermonkey extension](https://www.tampermonkey.net/)** for your browser (available for Chrome, Firefox, Edge, etc.).
    
2.  **Create a new userscript** and paste in the code from this file:  
    [`Extract PDF Paths and Save as TXT-1.0.user.js`](https://github.com/ils94/Brasil-UFOs/blob/main/Extract%20PDF%20Paths%20and%20Save%20as%20TXT-1.0.user.js)
    
3.  **Visit the SIAN website** and, in the **Fundo** field, enter the following:
    **`BR DFANBSB ARX - Objeto Voador Não Identificado - Fundo`**
    
4.  A **“Save PDF Paths”** button will appear in the top-right corner of the page.
    
5.  **Click the button** to download a file named `pdf_paths.txt`, which contains all PDF links from the current page.

> Repeat this process for **each page number** in the SIAN search results to collect all PDF links. And save all `.txt` files in a folder named `txt`, after that, put the `txt` folder in the same folder as your `download_pdfs.py` script.

### 2. Run the Python Downloader Script

```bash
python download_pdfs.py
```
This will:

-   Read all `.txt` files inside the `txt` folder.
-   Download each PDF listed in those files from the base URL (`http://imagem.sian.an.gov.br/acervo/derivadas`).
-   Save them into a `pdfs/` folder.
-   Log all download statuses (success/failure) to a timestamped file inside the `logs/` folder.

## Notes

-   The Python script uses multithreading (up to 10 threads or `2 x CPU cores`).
-   It automatically retries failed downloads up to 3 times.
-   Only valid `.pdf` links will be downloaded.
-   Logs include detailed error messages if a download fails.
